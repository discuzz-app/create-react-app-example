/*! For license information please see 221.0d23f618.chunk.js.LICENSE.txt */
(self.webpackChunkreact1=self.webpackChunkreact1||[]).push([[221],{221:function(e,t,r){var n=r(4401),o=r(9062),a=r(4421),i=r(2791),u=r(5928);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),e.exports=function(e,t){try{var r=function(){e.recaptchaKey&&n.initializeAppCheck(c,{provider:new n.ReCaptchaV3Provider(e.recaptchaKey),isTokenAutoRefreshEnabled:!0});var t=function(e){return""===e||e===a.EMPTY_SYMBOL},r=function(e,t){try{return a.log("Update Doc",e.id,t),Promise.resolve(o.updateDoc(e,s({},t,{savedAt:o.serverTimestamp()})))}catch(e){return Promise.reject(e)}},l=function(e,t){try{return a.log("Add Doc",e.path,t,e),Promise.resolve(o.addDoc(e,s({},t,{savedAt:o.serverTimestamp()})))}catch(e){return Promise.reject(e)}},f=function(e){try{return a.log("Delete Doc",e),Promise.resolve(o.deleteDoc(e))}catch(e){return Promise.reject(e)}},d=function(e){try{var t=0===e.paths.length?void 0:e.paths[e.paths.length-1],n=function(){if(t){a.log("increase post replied",t);var e=o.doc(p,"posts",t);return Promise.resolve(r(e,{replied:o.increment(1)})).then((function(){}))}}();return Promise.resolve(n&&n.then?n.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},h={toFirestore:function(e){var t={id:e.id,paths:e.paths,parentId:e.parentId,url:e.url,author:{id:e.author.id},contents:e.contents,voted:e.voted,replied:e.replied,voters:e.voters};return e.author.photoUrl&&(t.author.photoUrl=e.author.photoUrl),e.author.name&&(t.author.name=e.author.name),e.approvedAt&&(t.approvedAt=e.approvedAt),e.savedAt&&(t.savedAt=e.savedAt),e.createdAt&&(t.createdAt=e.createdAt),e.updatedAt&&(t.updatedAt=e.updatedAt),e.deletedAt&&(t.deletedAt=e.deletedAt),t},fromFirestore:function(e,t){var r=e.data(t),n={id:e.id,paths:r.paths,parentId:r.parentId,url:r.url,author:{id:r.author.id,name:r.author.name,photoUrl:r.author.photoUrl},contents:r.contents,replied:r.replied,voted:r.voted,voters:r.voters,snapshot:e};return r.author.photoUrl&&(n.author.photoUrl=r.author.photoUrl),r.paths.length>0&&(n.parentId=r.paths[r.paths.length-1]),r.approvedAt&&(n.approvedAt=r.approvedAt.toDate()),r.savedAt&&(n.savedAt=r.savedAt.toDate()),r.createdAt&&(n.createdAt=r.createdAt.toDate()),r.updatedAt&&(n.updatedAt=r.updatedAt.toDate()),r.deletedAt&&(n.deletedAt=r.deletedAt.toDate()),n}},v={toFirestore:function(e){var t={id:e.id,paths:e.paths,url:e.url,author:{id:e.author.id},contents:e.contents};return e.author.photoUrl&&(t.author.photoUrl=e.author.photoUrl),e.author.name&&(t.author.name=e.author.name),e.postId&&(t.postId=e.postId),e.createdAt&&(t.createdAt=e.createdAt),e.updatedAt&&(t.updatedAt=e.updatedAt),e.deletedAt&&(t.deletedAt=e.deletedAt),t},fromFirestore:function(e,t){var r=e.data(t),n={id:e.id,paths:r.paths,url:r.url,author:{id:r.author.id,name:r.author.name,photoUrl:r.author.photoUrl},contents:r.contents};return r.author.photoUrl&&(n.author.photoUrl=r.author.photoUrl),r.paths.length>0&&(n.parentId=r.paths[r.paths.length-1]),r.postId&&(n.postId=r.postId),r.createdAt&&(n.createdAt=r.createdAt.toDate()),r.updatedAt&&(n.updatedAt=r.updatedAt.toDate()),r.deletedAt&&(n.deletedAt=r.deletedAt.toDate()),n}};return{usePostQuery:function(e){var t=i.useState(null),r=t[0],n=t[1],u=i.useState(a.RequestState.INITIAL),s=u[0],c=u[1],l=i.useCallback((function(e){n(e.data()),c(a.RequestState.SUCCESS)}),[n,c]);return i.useEffect((function(){var t=o.doc(p,"posts",e).withConverter(h);return c(a.RequestState.LOADING),o.onSnapshot(t,l)}),[e]),{post:r,queryState:s}},usePostListQuery:function(e,t,r){void 0===r&&(r=null);var n=u.useImmer([]),s=n[0],c=n[1],l=i.useState(a.RequestState.INITIAL),f=l[0],d=l[1],v=i.useState(!1),g=v[0],m=v[1],y=i.useState(null),b=y[0],k=y[1],P=i.useState(null),A=P[0],w=P[1],x=i.useCallback((function(e){var t=[];return e.forEach((function(e){var r=e.data();r.createdAt&&t.push(r)})),t}),[]),S=i.useCallback((function(e){var r=x(e);a.log("update posts from list",r),c((function(e){for(var t=0;t<r.length;t++)e.push(r[t])})),d(a.RequestState.SUCCESS),m(!(r.length<t))}),[c,x,d]),E=i.useCallback((function(e){var t=x(e);a.log("update posts from sub",t),c((function(e){for(var r=function(r){var n=t[r],o=e.findIndex((function(e){return e.id===n.id}));-1===o?(a.log("add post from sub",n.id,n),e.unshift(n)):(a.log("replace post from sub",n.id,n),e[o]=n)},n=t.length-1;n>=0;n--)r(n)}))}),[c,x]);i.useEffect((function(){s.length>0&&s[s.length-1].createdAt&&(null!==b&&b.id===s[s.length-1].id||k(s[s.length-1].snapshot))}),[s,b]),i.useEffect((function(){if(null===r||r.replied>0){var n=[o.where("url","==",e),o.where("parentId","==",r?r.id:null),o.orderBy("createdAt","desc"),o.limit(t)];null!==A&&n.push(o.startAfter(A)),d(a.RequestState.LOADING);var i=o.query.apply(void 0,[o.collection(p,"posts")].concat(n)).withConverter(h);o.getDocs(i).then(S).catch((function(e){a.fatal("query post failed",e),d(a.RequestState.FAIL)}))}else 0===r.replied&&d(a.RequestState.SUCCESS)}),[e,r,A,S,d]),i.useEffect((function(){if(f===a.RequestState.SUCCESS&&0===s.length){var t=[o.where("url","==",e),o.where("parentId","==",r?r.id:null),o.where("savedAt",">",new Date),o.orderBy("savedAt","desc")],n=o.query.apply(void 0,[o.collection(p,"posts")].concat(t)).withConverter(h);return o.onSnapshot(n,E)}return function(){}}),[f,s]),i.useEffect((function(){if(b){var t=[o.where("url","==",e),o.where("parentId","==",r?r.id:null),o.where("savedAt",">",new Date),o.orderBy("savedAt","desc"),o.endAt(b)],n=o.query.apply(void 0,[o.collection(p,"posts")].concat(t)).withConverter(h);return o.onSnapshot(n,E)}return function(){}}),[e,r,b,E]);var C=i.useCallback((function(){s.length>0&&w(s[s.length-1].snapshot)}),[s,w]);return{posts:s,loadMore:C,hasMore:null===r?g:r.replied>s.length,queryState:f}},useAddPostCommand:function(){var e=a.useAuth(),r=e.user,n=e.signInAnonymously;return i.useCallback((function(e,i,u){try{var c=function(){var t={paths:u?[].concat(u.paths,[u.id]):[],parentId:u?u.id:null,url:u?u.url:i,author:{id:f.uid,name:f.displayName,photoUrl:f.photoURL||""},contents:e,createdAt:o.serverTimestamp()};if(f.canSavePost){var r,n=s({},t,{voted:1,replied:0,voters:(r={},r[f.uid]=1,r),approvedAt:o.serverTimestamp()});return a.log("add post directly",n),Promise.resolve(l(o.collection(p,"posts"),n)).then((function(){return Promise.resolve(d(n)).then((function(){return a.PostUpdateResult.UPDATED}))}))}var c=s({},t);return Promise.resolve(l(o.collection(p,"pending_posts"),c)).then((function(){return a.PostUpdateResult.PENDING}))};if(t(e))return Promise.resolve(a.PostUpdateResult.INVALID);var f=r,h=function(){if(f&&!f.uid)return Promise.resolve(n()).then((function(e){f=e}))}();return Promise.resolve(h&&h.then?h.then(c):c())}catch(e){return Promise.reject(e)}}),[n,r])},useEditPostCommand:function(){var e=a.useAuth().user;return i.useCallback((function(n,i){try{if(t(i))return Promise.resolve(a.PostUpdateResult.INVALID);var u={contents:i,updatedAt:o.serverTimestamp()};if(e.canSavePost){var c=o.doc(p,"posts",n.id),f=s({},u);return Promise.resolve(r(c,f)).then((function(){return a.PostUpdateResult.UPDATED}))}var d=s({},u,{postId:n.id,paths:[],parentId:null,author:{id:e.uid,name:"",photoUrl:""}});return Promise.resolve(l(o.collection(p,"pending_posts"),d)).then((function(){return a.PostUpdateResult.PENDING}))}catch(e){return Promise.reject(e)}}),[e])},useRemovePostCommand:function(){return i.useCallback((function(e){try{var t=o.doc(p,"posts",e.id);return Promise.resolve(r(t,{contents:"",deletedAt:o.serverTimestamp()})).then((function(){return a.PostUpdateResult.UPDATED}))}catch(e){return Promise.reject(e)}}),[])},useTogglePostVoteCommand:function(){var e=a.useAuth(),t=e.user,n=e.signIn;return i.useCallback((function(e){try{if(null!=t&&t.emailVerified){var i=function(){return a.PostUpdateResult.UPDATED};a.log("toggle vote",e.id,"voters",e.voters,"from",t.uid);var u=o.doc(p,"posts",e.id),s=e.voters[t.uid]?(a.log("remove vote",t.uid),Promise.resolve(r(u,(c={},c["voters."+t.uid]=o.deleteField(),c.voted=o.increment(-1),c))).then((function(){}))):(a.log("add vote",t.uid),Promise.resolve(r(u,(l={},l["voters."+t.uid]=1,l.voted=o.increment(1),l))).then((function(){})));return Promise.resolve(s&&s.then?s.then(i):i())}return n(),Promise.resolve(a.PostUpdateResult.INVALID)}catch(e){return Promise.reject(e)}var c,l}),[t])},usePendingPostQuery:function(){var e=a.useAuth().user,t=i.useState([]),r=t[0],n=t[1],u=i.useCallback((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),n(t)}),[n]);return i.useEffect((function(){if(e&&e.isAdmin){var t=o.query(o.collection(p,"pending_posts")).withConverter(v);return o.getDocs(t).then(u).catch(console.error),o.onSnapshot(t,u)}return function(){}}),[e,u]),{pendingPosts:r}},useEditPendingPostCommand:function(){var e=a.useAuth();return i.useCallback((function(e,t){try{if(function(e){return!e||e===a.EMPTY_SYMBOL}(t))return Promise.resolve(a.PendingPostUpdateResult.FAIL);var n=o.doc(p,"pending_posts",e.id);return Promise.resolve(r(n,{contents:t,updatedAt:o.serverTimestamp()})).then((function(){return a.PendingPostUpdateResult.SUCCESS}))}catch(e){return Promise.reject(e)}}),[e.user])},useRejectPendingPostCommand:function(){var e=a.useAuth();return i.useCallback((function(e){try{var t=o.doc(p,"pending_posts",e.id);return Promise.resolve(f(t)).then((function(){return a.PendingPostUpdateResult.SUCCESS}))}catch(e){return Promise.reject(e)}}),[e.user])},useApprovePendingPostCommand:function(){var e=a.useAuth();return i.useCallback((function(e){try{var t=o.doc(p,"pending_posts",e.id);return Promise.resolve(o.getDoc(t)).then((function(n){function i(){return Promise.resolve(f(t)).then((function(){return a.PendingPostUpdateResult.SUCCESS}))}var u={approvedAt:o.serverTimestamp(),savedAt:o.serverTimestamp()},c=n.data(),h=function(){if(e.postId){var t=o.doc(p,"posts",e.postId);return Promise.resolve(r(t,s({},u,{contents:c.contents,updatedAt:c.updatedAt}))).then((function(){}))}var n;return Promise.resolve(l(o.collection(p,"posts"),s({},c,u,{replied:0,voted:1,voters:(n={},n[c.author.id]=1,n)}))).then((function(){d(c)}))}();return h&&h.then?h.then(i):i()}))}catch(e){return Promise.reject(e)}}),[e.user])}}},c=t.data.app,p=o.getFirestore(c),l=function(e,t){try{var r=Promise.resolve(o.enableIndexedDbPersistence(p)).then((function(){}))}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(0,(function(e){console.error("Offline support failed!",e)}));return Promise.resolve(l&&l.then?l.then(r):r())}catch(n){return Promise.reject(n)}}},4401:function(e,t,r){"use strict";r.r(t),r.d(t,{CustomProvider:function(){return xe},ReCaptchaEnterpriseProvider:function(){return we},ReCaptchaV3Provider:function(){return Ae},getToken:function(){return De},initializeAppCheck:function(){return Ce},onTokenChanged:function(){return je},setTokenAutoRefreshEnabled:function(){return Ie}});var n,o=r(7762),a=r(3433),i=r(4942),u=r(5861),s=r(5671),c=r(9521),p=r(7757),l=r(9474),f=r(3258),d=r(1492),h=r(6781),v=new Map,g={activated:!1,tokenObservers:[]},m={initialized:!1,enabled:!1};function y(e){return v.get(e)||g}function b(e,t){v.set(e,t)}function k(){return m}var P="https://content-firebaseappcheck.googleapis.com/v1beta",A=3e4,w=96e4,x=function(){function e(t,r,n,o,a){if((0,s.Z)(this,e),this.operation=t,this.retryPolicy=r,this.getWaitDuration=n,this.lowerBound=o,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=o,o>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}return(0,c.Z)(e,[{key:"start",value:function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))}},{key:"stop",value:function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}},{key:"isRunning",value:function(){return!!this.pending}},{key:"process",value:function(){var e=(0,u.Z)(p.mark((function e(t){return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stop(),e.prev=1,this.pending=new d.BH,e.next=5,S(this.getNextRun(t));case 5:return this.pending.resolve(),e.next=8,this.pending.promise;case 8:return this.pending=new d.BH,e.next=11,this.operation();case 11:return this.pending.resolve(),e.next=14,this.pending.promise;case 14:this.process(!0).catch((function(){})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this.retryPolicy(e.t0)?this.process(!1).catch((function(){})):this.stop();case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextRun",value:function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}]),e}();function S(e){return new Promise((function(t){setTimeout(t,e)}))}var E=(n={},(0,i.Z)(n,"already-initialized","You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance."),(0,i.Z)(n,"use-before-activation","App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services."),(0,i.Z)(n,"fetch-network-error","Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}."),(0,i.Z)(n,"fetch-parse-error","Fetch client could not parse response. Original error: {$originalErrorMessage}."),(0,i.Z)(n,"fetch-status-error","Fetch server returned an HTTP error status. HTTP status: {$httpStatus}."),(0,i.Z)(n,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,i.Z)(n,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,i.Z)(n,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,i.Z)(n,"recaptcha-error","ReCAPTCHA error."),(0,i.Z)(n,"throttled","Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"),n),C=new d.LL("appCheck","AppCheck",E);function O(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?null===(e=self.grecaptcha)||void 0===e?void 0:e.enterprise:self.grecaptcha}function I(e){if(!y(e).activated)throw C.create("use-before-activation",{appName:e.name})}function D(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function T(e){var t=Math.round(e/1e3),r=Math.floor(t/86400),n=Math.floor((t-3600*r*24)/3600),o=Math.floor((t-3600*r*24-3600*n)/60),a=t-3600*r*24-3600*n-60*o,i="";return r&&(i+=j(r)+"d:"),n&&(i+=j(n)+"h:"),i+=j(o)+"m:"+j(a)+"s"}function j(e){return 0===e?"00":e>=10?e.toString():"0"+e}function R(e,t){return _.apply(this,arguments)}function _(){return(_=(0,u.Z)(p.mark((function e(t,r){var n,o,a,i,u,s,c,l,f,d;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,o=t.body,a={"Content-Type":"application/json"},(i=r.getImmediate({optional:!0}))&&(a["X-Firebase-Client"]=i.getPlatformInfoString()),u={method:"POST",body:JSON.stringify(o),headers:a},e.prev=5,e.next=8,fetch(n,u);case 8:s=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),C.create("fetch-network-error",{originalErrorMessage:e.t0.message});case 14:if(200===s.status){e.next=16;break}throw C.create("fetch-status-error",{httpStatus:s.status});case 16:return e.prev=16,e.next=19,s.json();case 19:c=e.sent,e.next=25;break;case 22:throw e.prev=22,e.t1=e.catch(16),C.create("fetch-parse-error",{originalErrorMessage:e.t1.message});case 25:if((l=c.ttl.match(/^([\d.]+)(s)$/))&&l[2]&&!isNaN(Number(l[1]))){e.next=28;break}throw C.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration "+"format: ".concat(c.ttl)});case 28:return f=1e3*Number(l[1]),d=Date.now(),e.abrupt("return",{token:c.attestationToken,expireTimeMillis:d+f,issuedAtTimeMillis:d});case 31:case"end":return e.stop()}}),e,null,[[5,11],[16,22]])})))).apply(this,arguments)}function U(e,t){var r=e.options,n=r.projectId,o=r.appId,a=r.apiKey;return{url:"".concat(P,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeRecaptchaToken","?key=").concat(a),body:{recaptcha_token:t}}}function M(e,t){var r=e.options,n=r.projectId,o=r.appId,a=r.apiKey;return{url:"".concat(P,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeRecaptchaEnterpriseToken","?key=").concat(a),body:{recaptcha_enterprise_token:t}}}function N(e,t){var r=e.options,n=r.projectId,o=r.appId,a=r.apiKey;return{url:"".concat(P,"/projects/").concat(n,"/apps/").concat(o,":").concat("exchangeDebugToken","?key=").concat(a),body:{debug_token:t}}}var Z="firebase-app-check-store",F="debug-token",L=null;function q(){return L||(L=new Promise((function(e,t){try{var r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=function(t){e(t.target.result)},r.onerror=function(e){var r;t(C.create("storage-open",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))},r.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(Z,{keyPath:"compositeKey"})}}catch(n){t(C.create("storage-open",{originalErrorMessage:n.message}))}})))}function K(e){return W(G(e))}function z(e){return H(F,e)}function B(){return W(F)}function H(e,t){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(p.mark((function e(t,r){var n,o,a,i;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return n=e.sent,o=n.transaction(Z,"readwrite"),a=o.objectStore(Z),i=a.put({compositeKey:t,value:r}),e.abrupt("return",new Promise((function(e,t){i.onsuccess=function(t){e()},o.onerror=function(e){var r;t(C.create("storage-set",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return X.apply(this,arguments)}function X(){return(X=(0,u.Z)(p.mark((function e(t){var r,n,o,a;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:return r=e.sent,n=r.transaction(Z,"readonly"),o=n.objectStore(Z),a=o.get(t),e.abrupt("return",new Promise((function(e,t){a.onsuccess=function(t){var r=t.target.result;e(r?r.value:void 0)},n.onerror=function(e){var r;t(C.create("storage-get",{originalErrorMessage:null===(r=e.target.error)||void 0===r?void 0:r.message}))}})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return"".concat(e.options.appId,"-").concat(e.name)}var V=new h.Yd("@firebase/app-check");function Y(){return(Y=(0,u.Z)(p.mark((function e(t){var r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.hl)()){e.next=12;break}return r=void 0,e.prev=2,e.next=5,K(t);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),V.warn("Failed to read token from IndexedDB. Error: ".concat(e.t0));case 11:return e.abrupt("return",r);case 12:return e.abrupt("return",void 0);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function J(e,t){return(0,d.hl)()?function(e,t){return H(G(e),t)}(e,t).catch((function(e){V.warn("Failed to write token to IndexedDB. Error: ".concat(e))})):Promise.resolve()}function Q(){return(Q=(0,u.Z)(p.mark((function e(){var t,r;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=void 0,e.prev=1,e.next=4,B();case 4:t=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(t){e.next=15;break}return z(r=D()).catch((function(e){return V.warn("Failed to persist debug token to IndexedDB. Error: ".concat(e))})),e.abrupt("return",r);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function ee(){return k().enabled}function te(){return re.apply(this,arguments)}function re(){return(re=(0,u.Z)(p.mark((function e(){var t;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=k()).enabled||!t.token){e.next=5;break}return e.abrupt("return",t.token.promise);case 5:throw Error("\n            Can't get debug token in production mode.\n        ");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){var e=(0,d.Rd)(),t=k();if(t.initialized=!0,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){t.enabled=!0;var r=new d.BH;t.token=r,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?r.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):r.resolve(function(){return Q.apply(this,arguments)}())}}var oe={error:"UNKNOWN_ERROR"};function ae(e){return ie.apply(this,arguments)}function ie(){return ie=(0,u.Z)(p.mark((function e(t){var r,n,o,a,i,u,s,c,l,f=arguments;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]&&f[1],I(n=t.app),o=y(n),a=o.token,i=void 0,a){e.next=11;break}return e.next=9,o.cachedTokenPromise;case 9:(u=e.sent)&&le(u)&&(a=u);case 11:if(r||!a||!le(a)){e.next=13;break}return e.abrupt("return",{token:a.token});case 13:if(s=!1,!ee()){e.next=33;break}if(o.exchangeTokenPromise){e.next=26;break}return e.t0=R,e.t1=N,e.t2=n,e.next=21,te();case 21:e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=t.platformLoggerProvider,o.exchangeTokenPromise=(0,e.t0)(e.t4,e.t5).then((function(e){return o.exchangeTokenPromise=void 0,e})),s=!0;case 26:return e.next=28,o.exchangeTokenPromise;case 28:return c=e.sent,e.next=31,J(n,c);case 31:return b(n,Object.assign(Object.assign({},o),{token:c})),e.abrupt("return",{token:c.token});case 33:return e.prev=33,o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then((function(e){return o.exchangeTokenPromise=void 0,e})),s=!0),e.next=37,o.exchangeTokenPromise;case 37:a=e.sent,e.next=44;break;case 40:e.prev=40,e.t6=e.catch(33),e.t6.code==="appCheck/".concat("throttled")?V.warn(e.t6.message):V.error(e.t6),i=e.t6;case 44:if(a){e.next=48;break}l=fe(i),e.next=52;break;case 48:return l={token:a.token},b(n,Object.assign(Object.assign({},o),{token:a})),e.next=52,J(n,a);case 52:return s&&pe(n,l),e.abrupt("return",l);case 54:case"end":return e.stop()}}),e,null,[[33,40]])}))),ie.apply(this,arguments)}function ue(e,t,r,n){var o=e.app,i=y(o),u={next:r,error:n,type:t};if(b(o,Object.assign(Object.assign({},i),{tokenObservers:[].concat((0,a.Z)(i.tokenObservers),[u])})),i.token&&le(i.token)){var s=i.token;Promise.resolve().then((function(){r({token:s.token}),ce(e)})).catch((function(){}))}i.cachedTokenPromise.then((function(){return ce(e)}))}function se(e,t){var r=y(e),n=r.tokenObservers.filter((function(e){return e.next!==t}));0===n.length&&r.tokenRefresher&&r.tokenRefresher.isRunning()&&r.tokenRefresher.stop(),b(e,Object.assign(Object.assign({},r),{tokenObservers:n}))}function ce(e){var t=e.app,r=y(t),n=r.tokenRefresher;n||(n=function(e){var t=e.app;return new x((0,u.Z)(p.mark((function r(){var n;return p.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(y(t).token){r.next=7;break}return r.next=4,ae(e);case 4:n=r.sent,r.next=10;break;case 7:return r.next=9,ae(e,!0);case 9:n=r.sent;case 10:if(!n.error){r.next=12;break}throw n.error;case 12:case"end":return r.stop()}}),r)}))),(function(){return!0}),(function(){var e=y(t);if(e.token){var r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,n=e.token.expireTimeMillis-3e5;return r=Math.min(r,n),Math.max(0,r-Date.now())}return 0}),A,w)}(e),b(t,Object.assign(Object.assign({},r),{tokenRefresher:n}))),!n.isRunning()&&r.isTokenAutoRefreshEnabled&&n.start()}function pe(e,t){var r,n=y(e).tokenObservers,a=(0,o.Z)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(u){}}}catch(s){a.e(s)}finally{a.f()}}function le(e){return e.expireTimeMillis-Date.now()>0}function fe(e){return{token:(t=oe,d.US.encodeString(JSON.stringify(t),!1)),error:e};var t}var de=function(){function e(t,r){(0,s.Z)(this,e),this.app=t,this.platformLoggerProvider=r}return(0,c.Z)(e,[{key:"_delete",value:function(){var e,t=y(this.app).tokenObservers,r=(0,o.Z)(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;se(this.app,n.next)}}catch(a){r.e(a)}finally{r.f()}return Promise.resolve()}}]),e}();var he="https://www.google.com/recaptcha/api.js",ve="https://www.google.com/recaptcha/enterprise.js";function ge(e,t){var r=y(e),n=new d.BH;b(e,Object.assign(Object.assign({},r),{reCAPTCHAState:{initialized:n}}));var o=be(e),a=O(!1);return a?ye(e,t,a,o,n):function(e){var t=document.createElement("script");t.src=he,t.onload=e,document.head.appendChild(t)}((function(){var r=O(!1);if(!r)throw new Error("no recaptcha");ye(e,t,r,o,n)})),n.promise}function me(e,t){var r=y(e),n=new d.BH;b(e,Object.assign(Object.assign({},r),{reCAPTCHAState:{initialized:n}}));var o=be(e),a=O(!0);return a?ye(e,t,a,o,n):function(e){var t=document.createElement("script");t.src=ve,t.onload=e,document.head.appendChild(t)}((function(){var r=O(!0);if(!r)throw new Error("no recaptcha");ye(e,t,r,o,n)})),n.promise}function ye(e,t,r,n,o){r.ready((function(){!function(e,t,r,n){var o=r.render(n,{sitekey:t,size:"invisible"}),a=y(e);b(e,Object.assign(Object.assign({},a),{reCAPTCHAState:Object.assign(Object.assign({},a.reCAPTCHAState),{widgetId:o})}))}(e,t,r,n),o.resolve(r)}))}function be(e){var t="fire_app_check_".concat(e.name),r=document.createElement("div");return r.id=t,r.style.display="none",document.body.appendChild(r),t}function ke(e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,u.Z)(p.mark((function e(t){var r,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(t),r=y(t).reCAPTCHAState,e.next=4,r.initialized.promise;case 4:return n=e.sent,e.abrupt("return",new Promise((function(e,r){var o=y(t).reCAPTCHAState;n.ready((function(){e(n.execute(o.widgetId,{action:"fire_app_check"}))}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=function(){function e(t){(0,s.Z)(this,e),this._siteKey=t,this._throttleData=null}return(0,c.Z)(e,[{key:"getToken",value:function(){var e=(0,u.Z)(p.mark((function e(){var t,r,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(this._throttleData),e.next=3,ke(this._app).catch((function(e){throw C.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,R(U(this._app,r),this._platformLoggerProvider);case 7:n=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=Se(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),C.create("throttled",{time:T(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=(0,l.qX)(e,"platform-logger"),ge(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),we=function(){function e(t){(0,s.Z)(this,e),this._siteKey=t,this._throttleData=null}return(0,c.Z)(e,[{key:"getToken",value:function(){var e=(0,u.Z)(p.mark((function e(){var t,r,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ee(this._throttleData),e.next=3,ke(this._app).catch((function(e){throw C.create("recaptcha-error")}));case 3:return r=e.sent,e.prev=4,e.next=7,R(M(this._app,r),this._platformLoggerProvider);case 7:n=e.sent,e.next=18;break;case 10:if(e.prev=10,e.t0=e.catch(4),"fetch-status-error"!==e.t0.code){e.next=17;break}throw this._throttleData=Se(Number(null===(t=e.t0.customData)||void 0===t?void 0:t.httpStatus),this._throttleData),C.create("throttled",{time:T(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus});case 17:throw e.t0;case 18:return this._throttleData=null,e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e,this._platformLoggerProvider=(0,l.qX)(e,"platform-logger"),me(e,this._siteKey).catch((function(){}))}},{key:"isEqual",value:function(t){return t instanceof e&&this._siteKey===t._siteKey}}]),e}(),xe=function(){function e(t){(0,s.Z)(this,e),this._customProviderOptions=t}return(0,c.Z)(e,[{key:"getToken",value:function(){var e=(0,u.Z)(p.mark((function e(){var t,r,n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._customProviderOptions.getToken();case 2:return t=e.sent,r=(0,d.DO)(t.token),n=null!==r&&r<Date.now()&&r>0?1e3*r:Date.now(),e.abrupt("return",Object.assign(Object.assign({},t),{issuedAtTimeMillis:n}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(e){this._app=e}},{key:"isEqual",value:function(t){return t instanceof e&&this._customProviderOptions.getToken.toString()===t._customProviderOptions.getToken.toString()}}]),e}();function Se(e,t){if(404===e||403===e)return{backoffCount:1,allowRequestsAfter:Date.now()+864e5,httpStatus:e};var r=t?t.backoffCount:0,n=(0,d.$s)(r,1e3,2);return{backoffCount:r+1,allowRequestsAfter:Date.now()+n,httpStatus:e}}function Ee(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw C.create("throttled",{time:T(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,l.Mq)(),t=arguments.length>1?arguments[1]:void 0;e=(0,d.m9)(e);var r=(0,l.qX)(e,"app-check");if(k().initialized||ne(),ee()&&te().then((function(e){return console.log("App Check debug token: ".concat(e,". You will need to add it to your app's App Check settings in the Firebase console for it to work."))})),r.isInitialized()){var n=r.getImmediate(),o=r.getOptions();if(o.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&o.provider.isEqual(t.provider))return n;throw C.create("already-initialized",{appName:e.name})}var a=r.initialize({options:t});return Oe(e,t.provider,t.isTokenAutoRefreshEnabled),y(e).isTokenAutoRefreshEnabled&&ue(a,"INTERNAL",(function(){})),a}function Oe(e,t,r){var n=y(e),o=Object.assign(Object.assign({},n),{activated:!0});o.provider=t,o.cachedTokenPromise=function(e){return Y.apply(this,arguments)}(e).then((function(t){return t&&le(t)&&(b(e,Object.assign(Object.assign({},y(e)),{token:t})),pe(e,{token:t.token})),t})),o.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,b(e,o),o.provider.initialize(e)}function Ie(e,t){var r=e.app,n=y(r);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),b(r,Object.assign(Object.assign({},n),{isTokenAutoRefreshEnabled:t}))}function De(e,t){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(p.mark((function e(t,r){var n;return p.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,r);case 2:if(!(n=e.sent).error){e.next=5;break}throw n.error;case 5:return e.abrupt("return",{token:n.token});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t,r,n){var o=function(){},a=function(){};return o=null!=t.next?t.next.bind(t):t,null!=t.error?a=t.error.bind(t):r&&(a=r),ue(e,"EXTERNAL",o,a),function(){return se(e.app,o)}}var Re="app-check-internal";(0,l.Xd)(new f.wA("app-check",(function(e){return function(e,t){return new de(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider(Re).initialize()}))),(0,l.Xd)(new f.wA(Re,(function(e){return function(e){return{getToken:function(t){return ae(e,t)},addTokenListener:function(t){return ue(e,"INTERNAL",t)},removeTokenListener:function(t){return se(e.app,t)}}}(e.getProvider("app-check").getImmediate())}),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,l.KN)("@firebase/app-check","0.5.3")},5928:function(e,t,r){"use strict";function n(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[H]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===$}(e)||Array.isArray(e)||!!e[B]||!!e.constructor[B]||f(e)||d(e))}function i(e,t,r){void 0===r&&(r=!1),0===u(e)?(r?Object.keys:W)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function u(e){var t=e[H];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:d(e)?3:0}function s(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===u(e)?e.get(t):e[t]}function p(e,t,r){var n=u(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return L&&e instanceof Map}function d(e){return q&&e instanceof Set}function h(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=X(e);delete t[H];for(var r=W(t),n=0;n<r.length;n++){var o=r[n],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||o(e)||!a(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=m),Object.freeze(e),t&&i(e,(function(e,t){return g(t,!0)}),!0)),e}function m(){n(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=G[e];return t||n(18,e),t}function k(){return Z}function P(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function A(e){w(e),e.p.forEach(S),e.p=null}function w(e){e===Z&&(Z=e.l)}function x(e){return Z={p:[],l:Z,h:e,m:!0,_:0}}function S(e){var t=e[H];0===t.i||1===t.i?t.j():t.O=!0}function E(e,t){t._=t.p.length;var r=t.p[0],o=void 0!==e&&e!==r;return t.h.g||b("ES5").S(t,e,o),o?(r[H].P&&(A(t),n(4)),a(e)&&(e=C(t,e),t.l||I(t,e)),t.u&&b("Patches").M(r[H],e,t.u,t.s)):e=C(t,r,[]),A(t),t.u&&t.v(t.u,t.s),e!==z?e:void 0}function C(e,t,r){if(y(t))return t;var n=t[H];if(!n)return i(t,(function(o,a){return O(e,n,t,o,a,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return I(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=4===n.i||5===n.i?n.o=v(n.k):n.o;i(3===n.i?new Set(o):o,(function(t,a){return O(e,n,o,t,a,r)})),I(e,o,!1),r&&e.u&&b("Patches").R(n,r,e.u,e.s)}return n.o}function O(e,t,r,n,i,u){if(o(i)){var c=C(e,i,u&&t&&3!==t.i&&!s(t.D,n)?u.concat(n):void 0);if(p(r,n,c),!o(c))return;e.m=!1}if(a(i)&&!y(i)){if(!e.h.F&&e._<1)return;C(e,i),t&&t.A.l||I(e,i)}}function I(e,t,r){void 0===r&&(r=!1),e.h.F&&e.m&&g(t,r)}function D(e,t){var r=e[H];return(r?h(r):e)[t]}function T(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function j(e){e.P||(e.P=!0,e.l&&j(e.l))}function R(e){e.o||(e.o=v(e.t))}function _(e,t,r){var n=f(t)?b("MapSet").N(t,r):d(t)?b("MapSet").T(t,r):e.g?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:k(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,a=V;r&&(o=[n],a=Y);var i=Proxy.revocable(o,a),u=i.revoke,s=i.proxy;return n.k=s,n.j=u,s}(t,r):b("ES5").J(t,r);return(r?r.A:k()).p.push(n),n}function U(e){return o(e)||n(22,e),function e(t){if(!a(t))return t;var r,n=t[H],o=u(t);if(n){if(!n.P&&(n.i<4||!b("ES5").K(n)))return n.t;n.I=!0,r=M(t,o),n.I=!1}else r=M(t,o);return i(r,(function(t,o){n&&c(n.t,t)===o||p(r,t,e(o))})),3===o?new Set(r):r}(e)}function M(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}r.r(t),r.d(t,{useImmer:function(){return ne},useImmerReducer:function(){return oe}});var N,Z,F="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),L="undefined"!=typeof Map,q="undefined"!=typeof Set,K="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=F?Symbol.for("immer-nothing"):((N={})["immer-nothing"]=!0,N),B=F?Symbol.for("immer-draftable"):"__$immer_draftable",H=F?Symbol.for("immer-state"):"__$immer_state",$=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),W="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,X=Object.getOwnPropertyDescriptors||function(e){var t={};return W(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},G={},V={get:function(e,t){if(t===H)return e;var r=h(e);if(!s(r,t))return function(e,t,r){var n,o=T(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!a(n)?n:n===D(e.t,t)?(R(e),e.o[t]=_(e.A.h,n,e)):n},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,r){var n=T(h(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var o=D(h(e),t),a=null==o?void 0:o[H];if(a&&a.t===r)return e.o[t]=r,e.D[t]=!1,!0;if(l(r,o)&&(void 0!==r||s(e.t,t)))return!0;R(e),j(e)}return e.o[t]===r&&"number"!=typeof r&&(void 0!==r||t in e.o)||(e.o[t]=r,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,R(e),j(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=h(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){n(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){n(12)}},Y={};i(V,(function(e,t){Y[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Y.deleteProperty=function(e,t){return V.deleteProperty.call(this,e[0],t)},Y.set=function(e,t,r){return V.set.call(this,e[0],t,r,e[0])};var J=function(){function e(e){var t=this;this.g=K,this.F=!0,this.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var i=r;r=e;var u=t;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return u.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var s;if("function"!=typeof r&&n(6),void 0!==o&&"function"!=typeof o&&n(7),a(e)){var c=x(t),p=_(t,e,void 0),l=!0;try{s=r(p),l=!1}finally{l?A(c):w(c)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return P(c,o),E(e,c)}),(function(e){throw A(c),e})):(P(c,o),E(s,c))}if(!e||"object"!=typeof e){if((s=r(e))===z)return;return void 0===s&&(s=e),t.F&&g(s,!0),s}n(21,e)},this.produceWithPatches=function(e,r){return"function"==typeof e?function(r){for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,r,(function(e,t){n=e,o=t})),n,o];var n,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||n(8),o(e)&&(e=U(e));var t=x(this),r=_(this,e,void 0);return r[H].C=!0,w(t),r},t.finishDraft=function(e,t){var r=(e&&e[H]).A;return P(r,t),E(void 0,r)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!K&&n(20),this.g=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var a=b("Patches").$;return o(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),Q=new J,ee=Q.produce,te=(Q.produceWithPatches.bind(Q),Q.setAutoFreeze.bind(Q),Q.setUseProxies.bind(Q),Q.applyPatches.bind(Q),Q.createDraft.bind(Q),Q.finishDraft.bind(Q),ee),re=r(2791);function ne(e){var t=(0,re.useState)((function(){return g("function"==typeof e?e():e,!0)})),r=t[1];return[t[0],(0,re.useCallback)((function(e){r("function"==typeof e?te(e):g(e))}),[])]}function oe(e,t,r){var n=(0,re.useMemo)((function(){return te(e)}),[e]);return(0,re.useReducer)(n,t,r)}}}]);
//# sourceMappingURL=221.0d23f618.chunk.js.map